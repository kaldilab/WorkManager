<template>
  <div v-frag>
    <Wrap>
      <div class="auth">
        <form @submit.prevent="handleSubmitAuth">
          <div class="form-set">
            <h3 class="form-title">ì¸ì¦ë²ˆí˜¸</h3>
            <div class="form-addon">
              <div class="form-inputbox" :class="`form-feedback feedback-${validateInputNumber}`">
                <input
                  v-model="inputNumber"
                  class="form-control input-s48"
                  type="password"
                  placeholder="ì¸ì¦ë²ˆí˜¸ë¥¼ ì…ë ¥í•˜ì„¸ìš”"
                  aria-label="ì¸ì¦ë²ˆí˜¸"
                  required
                />
              </div>
              <button class="btn btn-s48 btn-basic" type="submit">í™•ì¸</button>
            </div>
            <p v-if="validateInputNumber === 'invalid'" class="form-message message-invalid">ì¸ì¦ë²ˆí˜¸ í‹€ë ¸ë‹¤ë¦¬...ğŸ’</p>
          </div>
        </form>
      </div>
    </Wrap>
  </div>
</template>

<script>
export default {
  name: 'AuthPage',
  data() {
    return {
      validation: 0,
      inputNumber: '',
      validateInputNumber: '',
    }
  },
  head() {
    return {
      title: 'ì¸ì¦ | ì›Œí¬ë§¤ë‹ˆì €',
    }
  },
  computed: {
    authNumber() {
      return this.$store.state.common.auth
    },
  },
  methods: {
    handleSubmitAuth() {
      if (this.inputNumber === this.authNumber) {
        this.$setLocalStore('auth', this.inputNumber)
        this.$router.push('/')
      } else {
        this.validateInputNumber = 'invalid'
      }
    },
  },
}
</script>
